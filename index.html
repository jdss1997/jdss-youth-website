<!DOCTYPE html>
<html lang="en" x-data="themeApp()" :class="{ 'dark': isDark }" class="scroll-smooth">
<head>
  <!-- =============================================================
    JDSS YOUTH ‚Äì JAI DURGA SEVA SAMITHI (Single-File, ~550 lines)
    ‚Ä¢ TailwindCSS (CDN)
    ‚Ä¢ Alpine.js (Dark/Light theme + mobile nav)
    ‚Ä¢ AOS (Animate On Scroll)
    ‚Ä¢ Glassmorphism + soft neumorphism accents
    ‚Ä¢ Parallax hero (CSS-only)
    ‚Ä¢ Accessible, responsive layout
    ‚Ä¢ Two-profile uploader (LocalStorage + Import/Export)
    ‚Ä¢ Simple Lightbox (only one Ganesh photo kept as requested)
    ‚Ä¢ No extra asset files required (hero & gallery use the same external image URL)
  ============================================================= -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JDSS Youth ‚Äì Jai Durga Seva Samithi</title>
  <meta name="description" content="JDSS Youth ‚Äì Jai Durga Seva Samithi (Kodimail, Jagityal). Since 1997, celebrating Durga Mata & Ganesh Chaturthi with devotion, unity and service." />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3E%F0%9F%99%8F%3C/text%3E%3C/svg%3E" />

  <!-- Tailwind CSS + AOS + Alpine.js -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.13.0/cdn.min.js" defer></script>

  <!-- Tailwind Config: fonts & dark mode classes -->
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            display: ['Poppins', 'ui-sans-serif', 'system-ui'],
            body: ['Inter', 'ui-sans-serif', 'system-ui']
          },
          boxShadow: {
            neu: '10px 10px 24px rgba(0,0,0,.25), -10px -10px 24px rgba(255,255,255,.06)',
            neuIn: 'inset 6px 6px 16px rgba(0,0,0,.28), inset -6px -6px 16px rgba(255,255,255,.06)'
          },
          keyframes: {
            floaty: {
              '0%,100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-6px)' }
            },
            pulseGlow: {
              '0%,100%': { boxShadow: '0 0 0 0 rgba(255,215,0,.35)' },
              '50%': { boxShadow: '0 0 0 10px rgba(255,215,0,0)' }
            },
            shimmer: {
              '0%': { backgroundPosition: '-200% 0' },
              '100%': { backgroundPosition: '200% 0' }
            }
          },
          animation: {
            floaty: 'floaty 4s ease-in-out infinite',
            pulseGlow: 'pulseGlow 2.5s ease-out infinite',
            shimmer: 'shimmer 2s linear infinite'
          }
        }
      }
    }
  </script>

  <style>
    /* ===== Theming & surfaces ===== */
    :root{
      --bg-grad: radial-gradient(1200px 600px at 10% 10%, #10142a 0%, transparent 60%),
                 radial-gradient(900px 500px at 90% 10%, #24103a 0%, transparent 60%),
                 linear-gradient(135deg,#070a16,#0a0d1f 55%, #0b0b0b);
      --glass: rgba(255,255,255,.08);
      --glass-brd: rgba(255,255,255,.22);
    }
    .light {
      --bg-grad: radial-gradient(1200px 600px at 10% 10%, #edf2ff 0%, transparent 60%),
                 radial-gradient(900px 500px at 90% 10%, #ffe8f1 0%, transparent 60%),
                 linear-gradient(135deg,#f7fafc,#f5f7fb 55%, #eef2f7);
      --glass: rgba(255,255,255,.55);
      --glass-brd: rgba(0,0,0,.08);
    }
    body{ font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color:#eaeaf0; background: var(--bg-grad); }
    .light body{ color:#0e1325; }

    /* Glassmorphism card */
    .glass{ background:var(--glass); backdrop-filter: blur(14px); border:1px solid var(--glass-brd); border-radius:22px; }

    /* Neumorphism card */
    .neu{ background: rgba(255,255,255,0.06); border-radius:28px; box-shadow: 10px 10px 24px rgba(0,0,0,.25), -10px -10px 24px rgba(255,255,255,.05); }
    .light .neu{ background:#f7f9fc; box-shadow: 10px 10px 24px #d5d9e0, -10px -10px 24px #ffffff; }
    .neu-press{ box-shadow: inset 6px 6px 16px rgba(0,0,0,.28), inset -6px -6px 16px rgba(255,255,255,.06); }

    /* Parallax hero */
    .parallax{ background-image:url('https://i.pinimg.com/originals/1d/b5/1e/1db51e0a3c5b6d8cfa5e2c3bda3f3e8b.jpg'); background-size:cover; background-position:center; background-attachment:fixed; }

    /* Minimal underline link */
    .link-min{ position:relative; }
    .link-min::after{ content:''; position:absolute; left:0; bottom:-2px; height:2px; width:0; background:currentColor; transition:width .25s ease; }
    .link-min:hover::after{ width:100%; }

    /* Lightbox */
    .lightbox{ display:none; position:fixed; inset:0; z-index:1000; background:rgba(0,0,0,.92); align-items:center; justify-content:center; }
    .lightbox.open{ display:flex; }
    .lightbox img,.lightbox video{ max-width:90vw; max-height:80vh; border-radius:14px; }
    .lightbox .close{ position:absolute; top:12px; right:16px; font-size:2rem; }

    /* Reduced motion respect */
    @media (prefers-reduced-motion: reduce){
      *{ animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition: none !important; }
      .parallax{ background-attachment: scroll; }
    }
  </style>
</head>

<body :class="isDark ? '' : 'light'">
  <!-- ================= NAVBAR ================= -->
  <header class="fixed top-0 left-0 right-0 z-[60] bg-black/30 dark:bg-black/40 backdrop-blur border-b border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="flex h-16 items-center justify-between">
        <a href="#home" class="flex items-center gap-3 group">
          <!-- Mark + logotype -->
          <span class="relative inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-amber-300 to-orange-500 text-black font-extrabold shadow-neu group-hover:animate-floaty" aria-hidden="true">‡•ê</span>
          <span class="font-display font-semibold tracking-wide text-base sm:text-lg">JDSS Youth ‚Ä¢ JDSS KA MURTHI</span>
        </a>
        <!-- Desktop nav -->
        <nav class="hidden md:flex items-center gap-6 text-sm">
          <a href="#about" class="link-min">About</a>
          <a href="#leaders" class="link-min">Leaders</a>
          <a href="#celebrations" class="link-min">Celebrations</a>
          <a href="#mission" class="link-min">Mission</a>
          <a href="#profiles" class="link-min">Profiles</a>
          <a href="#gallery" class="link-min">Gallery</a>
          <a href="#contact" class="link-min">Contact</a>
        </nav>
        <!-- Right actions -->
        <div class="flex items-center gap-2">
          <!-- Theme toggle -->
          <button @click="toggleTheme" class="neu p-2 rounded-2xl transition active:neu-press" :aria-label="isDark ? 'Switch to light mode' : 'Switch to dark mode'">
            <span x-show="isDark" class="text-xl" aria-hidden="true">üåû</span>
            <span x-show="!isDark" class="text-xl" aria-hidden="true">üåô</span>
          </button>
          <!-- Mobile menu -->
          <button class="md:hidden neu p-2 rounded-2xl" @click="open = !open" aria-label="Menu" :aria-expanded="open.toString()">‚ò∞</button>
        </div>
      </div>
    </div>
    <!-- Mobile drawer -->
    <div class="md:hidden" x-show="open" x-transition>
      <nav class="px-6 pb-4 space-y-2">
        <a @click="open=false" class="block glass px-4 py-2" href="#about">About</a>
        <a @click="open=false" class="block glass px-4 py-2" href="#leaders">Leaders</a>
        <a @click="open=false" class="block glass px-4 py-2" href="#celebrations">Celebrations</a>
        <a @click="open=false" class="block glass px-4 py-2" href="#mission">Mission</a>
        <a @click="open=false" class="block glass px-4 py-2" href="#profiles">Profiles</a>
        <a @click="open=false" class="block glass px-4 py-2" href="#gallery">Gallery</a>
        <a @click="open=false" class="block glass px-4 py-2" href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- ================= HERO ================= -->
  <section id="home" class="parallax pt-28">
    <div class="mx-auto max-w-6xl px-6 py-24 md:py-32">
      <div class="glass p-8 md:p-12" data-aos="fade-up">
        <div class="text-center">
          <p class="text-sm uppercase tracking-[0.3em] opacity-90">Since 1997 ‚Üí 2025 &amp; Beyond</p>
          <h1 class="mt-3 text-4xl md:text-6xl font-extrabold leading-tight font-display">Jai Durga Seva Samithi</h1>
          <p class="mt-3 text-lg md:text-xl">(JDSS Youth ‚Ä¢ <span class="font-semibold">Main Group</span>)</p>
          <p class="mt-3">üìç Kodimail, Jagityal District ‚Äì 505501</p>
          <div class="mt-8 flex items-center justify-center gap-3">
            <a href="#gallery" class="neu px-5 py-3 rounded-2xl font-semibold transition hover:scale-[1.02] active:neu-press">View Memories</a>
            <a href="#profiles" class="glass px-5 py-3 rounded-2xl font-semibold transition hover:-translate-y-0.5">Add Members</a>
          </div>
        </div>
      </div>
      <!-- mini stats (micro-animations) -->
      <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 mt-8 text-center">
        <div class="glass p-4 rounded-2xl animate-floaty">
          <div class="text-2xl font-bold">28+</div>
          <div class="text-xs opacity-80">Years of Tradition</div>
        </div>
        <div class="glass p-4 rounded-2xl">
          <div class="text-2xl font-bold">1000+</div>
          <div class="text-xs opacity-80">Devotees Joined</div>
        </div>
        <div class="glass p-4 rounded-2xl">
          <div class="text-2xl font-bold">2</div>
          <div class="text-xs opacity-80">Major Festivals</div>
        </div>
        <div class="glass p-4 rounded-2xl">
          <div class="text-2xl font-bold">‚àû</div>
          <div class="text-xs opacity-80">Blessings</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ================= ABOUT ================= -->
  <section id="about" class="py-16 md:py-20">
    <div class="mx-auto max-w-5xl px-6" data-aos="fade-right">
      <h2 class="text-4xl font-bold text-center font-display">Welcome to JDSS Youth</h2>
      <p class="text-center italic mt-2">(Since 1997 | Continuing the Tradition till 2025 and Beyond)</p>
      <p class="text-center mb-10">üìç Kodimail, Jagityal District ‚Äì 505501</p>
      <div class="prose prose-invert max-w-none glass p-6 md:p-8">
        <p><strong>JDSS Youth (Jai Durga Seva Samithi)</strong> is a symbol of devotion, culture, and youth power. With the blessings of Maa Durga and Lord Ganesh, we bring people together in joy, devotion, and brotherhood.</p>
        <h3>üôè Our Celebrations</h3>
        <ul>
          <li><strong>Durga Mata Celebrations</strong> ‚Äì Devotional puja, cultural programs, rituals, music, and traditional activities.</li>
          <li><strong>Lord Ganesh Celebrations</strong> ‚Äì From installation to Visarjan with unmatched energy and joy.</li>
          <li><strong>Grand Finale Procession</strong> ‚Äì DJ, Band, Bharath bringing the community together.</li>
        </ul>
        <h3>üå∏ Our Mission</h3>
        <ul>
          <li>Preserve traditions for the next generation.</li>
          <li>Unite youth in culture and devotion.</li>
          <li>Spread happiness, positivity, and service.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ================= LEADERS ================= -->
  <section id="leaders" class="py-16 md:py-20 bg-white/5 dark:bg-white/5">
    <div class="mx-auto max-w-6xl px-6" data-aos="zoom-in">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-10 font-display">Group Main Leaders</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="neu p-6 rounded-3xl text-center font-semibold">MANIKYAM SRINIVAS</div>
        <div class="neu p-6 rounded-3xl text-center font-semibold">ATLA RAMESH</div>
        <div class="neu p-6 rounded-3xl text-center font-semibold">ATLA MAHESH</div>
        <div class="neu p-6 rounded-3xl text-center font-semibold">ALDI GANESH</div>
        <div class="neu p-6 rounded-3xl text-center font-semibold">ALDI PRASHANTH</div>
        <div class="neu p-6 rounded-3xl text-center font-semibold">KAITHA RAMESH</div>
      </div>
      <h3 class="text-2xl md:text-3xl font-bold text-center mt-16 mb-6 font-display">Sub Leaders</h3>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="neu p-6 rounded-3xl text-center font-semibold">KASARAPU PRANAY</div>
        <div class="neu p-6 rounded-3xl text-center font-semibold">PANNATI MOURYA</div>
        <div class="neu p-6 rounded-3xl text-center font-semibold">KASARAPU VINAY</div>
        <div class="neu p-6 rounded-3xl text-center font-semibold">GAJULA SHIVA</div>
        <div class="neu p-6 rounded-3xl text-center font-semibold">GAJULA AMAR</div>
        <div class="neu p-6 rounded-3xl text-center font-semibold">GAJULA RAM CHARAN</div>
      </div>
      <p class="text-center mt-10 opacity-90">IT IS SINCE 1997 TO 2025 TO BE CONTINUED</p>
    </div>
  </section>

  <!-- ================= CELEBRATIONS (cards) ================= -->
  <section id="celebrations" class="py-16 md:py-20">
    <div class="mx-auto max-w-6xl px-6" data-aos="fade-left">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-10 font-display">Our Celebrations</h2>
      <div class="grid md:grid-cols-3 gap-6">
        <div class="group glass rounded-3xl p-6 transition hover:-translate-y-1">
          <h3 class="text-2xl font-bold mb-2">Durga Mata</h3>
          <p>Grand Puja with devotion, cultural programs, rituals, and music.</p>
          <div class="mt-4 text-sm opacity-80 group-hover:opacity-100 transition">Learn more ‚Üí</div>
        </div>
        <div class="group glass rounded-3xl p-6 transition hover:-translate-y-1">
          <h3 class="text-2xl font-bold mb-2">Ganesh Chaturthi</h3>
          <p>Vibrant celebrations from installation to Visarjan.</p>
          <div class="mt-4 text-sm opacity-80 group-hover:opacity-100 transition">Learn more ‚Üí</div>
        </div>
        <div class="group glass rounded-3xl p-6 md:col-span-1 transition hover:-translate-y-1">
          <h3 class="text-2xl font-bold mb-2">Grand Finale Day</h3>
          <p>DJ, Band, Bharath procession bringing the entire community together.</p>
          <div class="mt-4 text-sm opacity-80 group-hover:opacity-100 transition">Learn more ‚Üí</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ================= MISSION ================= -->
  <section id="mission" class="py-16 md:py-20 bg-white/5">
    <div class="mx-auto max-w-4xl px-6" data-aos="fade-up">
      <div class="neu p-8 md:p-10 rounded-3xl">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-6 font-display">Our Mission</h2>
        <ul class="space-y-3 text-lg">
          <li>üå∏ Preserve traditions and pass them to the next generation.</li>
          <li>üå∏ Unite youth in the spirit of culture and devotion.</li>
          <li>üå∏ Organize events that spread happiness, positivity, and service.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ================= PROFILES (Two) ================= -->
  <section id="profiles" class="py-16 md:py-20">
    <div class="mx-auto max-w-6xl px-6" data-aos="zoom-in-up">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-6 font-display">Upload Two Profiles ‚Äì JDSS Youth Kodimail</h2>
      <p class="text-center text-sm opacity-80 mb-8">Add <strong>two member profiles</strong> (photo + details). Saved to your browser. Export/Import JSON to move.</p>

      <!-- Form: Two Profiles -->
      <form id="profileForm" class="grid lg:grid-cols-2 gap-6" aria-label="Member profile form">
        <!-- Profile 1 -->
        <div class="neu p-6 rounded-3xl">
          <h3 class="text-xl font-bold mb-4">Profile 1</h3>
          <label class="block text-sm mb-1" for="name1">Full Name</label>
          <input id="name1" name="name1" class="w-full mb-3 rounded-2xl px-4 py-2 text-black" placeholder="Enter name" required>
          <label class="block text-sm mb-1" for="role1">Role / Title</label>
          <input id="role1" name="role1" class="w-full mb-3 rounded-2xl px-4 py-2 text-black" placeholder="Leader / Volunteer">
          <label class="block text-sm mb-1" for="bio1">Short Bio</label>
          <textarea id="bio1" name="bio1" class="w-full mb-3 rounded-2xl px-4 py-2 text-black" rows="3" placeholder="About this member"></textarea>
          <label class="block text-sm mb-1" for="photo1">Photo</label>
          <input id="photo1" name="photo1" type="file" accept="image/*" class="w-full mb-4" />
          <button type="button" class="save1 w-full rounded-2xl px-4 py-2 glass font-semibold transition hover:-translate-y-0.5 active:scale-[.99]">Save Profile 1</button>
        </div>

        <!-- Profile 2 -->
        <div class="neu p-6 rounded-3xl">
          <h3 class="text-xl font-bold mb-4">Profile 2</h3>
          <label class="block text-sm mb-1" for="name2">Full Name</label>
          <input id="name2" name="name2" class="w-full mb-3 rounded-2xl px-4 py-2 text-black" placeholder="Enter name" required>
          <label class="block text-sm mb-1" for="role2">Role / Title</label>
          <input id="role2" name="role2" class="w-full mb-3 rounded-2xl px-4 py-2 text-black" placeholder="Leader / Volunteer">
          <label class="block text-sm mb-1" for="bio2">Short Bio</label>
          <textarea id="bio2" name="bio2" class="w-full mb-3 rounded-2xl px-4 py-2 text-black" rows="3" placeholder="About this member"></textarea>
          <label class="block text-sm mb-1" for="photo2">Photo</label>
          <input id="photo2" name="photo2" type="file" accept="image/*" class="w-full mb-4" />
          <button type="button" class="save2 w-full rounded-2xl px-4 py-2 glass font-semibold transition hover:-translate-y-0.5 active:scale-[.99]">Save Profile 2</button>
        </div>
      </form>

      <!-- Actions -->
      <div class="mt-6 flex flex-wrap items-center gap-3 justify-center">
        <button id="exportProfiles" class="rounded-2xl px-4 py-2 neu transition active:neu-press">Export Profiles (JSON)</button>
        <label for="importProfiles" class="neu rounded-2xl px-4 py-2 cursor-pointer transition active:neu-press">Import Profiles (JSON)
          <input id="importProfiles" type="file" accept="application/json" class="hidden" />
        </label>
        <button id="resetProfiles" class="rounded-2xl px-4 py-2 neu transition active:neu-press">Clear Saved Profiles</button>
      </div>

      <!-- Display Cards -->
      <div class="grid md:grid-cols-2 gap-6 mt-8" id="profileCards" aria-live="polite"></div>
    </div>
  </section>

  <!-- ================= GALLERY ================= -->
  <section id="gallery" class="py-16 md:py-20 bg-white/5">
    <div class="mx-auto max-w-6xl px-6" data-aos="fade-up">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-10 font-display">Photo Gallery</h2>
      <p class="text-center max-w-3xl mx-auto mb-8">(Only one Ganesh photo is kept as requested.)</p>

      <!-- Featured single image (acts as slideshow container but with 1 image) -->
      <div class="glass rounded-3xl overflow-hidden mb-8">
        <img id="slideImage" src="https://i.pinimg.com/originals/1d/b5/1e/1db51e0a3c5b6d8cfa5e2c3bda3f3e8b.jpg" alt="Ganesh Celebration" class="w-full h-[340px] md:h-[440px] object-cover transition-opacity duration-300" loading="lazy">
      </div>

      <!-- Single thumbnail (opens lightbox) -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        <img data-lightbox="img" src="https://i.pinimg.com/originals/1d/b5/1e/1db51e0a3c5b6d8cfa5e2c3bda3f3e8b.jpg" alt="Ganesh Celebration" class="rounded-2xl shadow-neu w-full h-52 object-cover cursor-pointer transition hover:-translate-y-1" loading="lazy">
      </div>
    </div>
  </section>

  <!-- ================= CONTACT ================= -->
  <section id="contact" class="py-16 md:py-20">
    <div class="mx-auto max-w-4xl px-6" data-aos="fade-up">
      <div class="glass p-8 rounded-3xl text-center">
        <h2 class="text-3xl md:text-4xl font-bold mb-6 font-display">Contact Us</h2>
        <p class="text-lg mb-2">üì± Phone Numbers: <strong>77940 44674</strong> / <strong>72074 55422</strong></p>
        <p class="text-lg mb-2">üì∏ Instagram: <strong>@jdss_ka_murthi</strong></p>
        <p class="text-lg mb-2">üìß Email: <strong>pranaykasarapu@gmail.com</strong></p>
        <p class="mt-4">üíñ JDSS Youth ‚Äì Jai Durga Seva Samithi</p>
        <p>‚ú® Celebrating Faith. Inspiring Youth. Uniting People.</p>
        <p class="mt-2">üî• From 1997 to 2025 and beyond ‚Äì our devotion and celebrations will never stop!</p>
      </div>
    </div>
  </section>

  <!-- ================= FOOTER ================= -->
  <footer class="py-6 text-center text-sm border-t border-white/10">
    <p>¬© JDSS Youth ‚Äì Jai Durga Seva Samithi ‚Ä¢ Kodimail, Jagityal District ‚Äì 505501</p>
  </footer>

  <!-- Floating WhatsApp button -->
  <a href="https://wa.me/917794044674" class="fixed bottom-5 right-5 rounded-full neu p-3 animate-pulseGlow" aria-label="WhatsApp">
    <span class="text-2xl" aria-hidden="true">üí¨</span>
  </a>

  <!-- ================= SCRIPTS ================= -->
  <script>
    // Alpine theme app
    function themeApp(){
      return {
        isDark: JSON.parse(localStorage.getItem('jdss_theme_dark') ?? 'true'),
        open: false,
        toggleTheme(){
          this.isDark = !this.isDark;
          localStorage.setItem('jdss_theme_dark', JSON.stringify(this.isDark));
        }
      }
    }

    // AOS
    AOS.init({ duration: 700, once: true });

    // HERO/GALLERY SLIDESHOW (single image kept, interval retained harmlessly)
    const slideImages = [
      'https://i.pinimg.com/originals/1d/b5/1e/1db51e0a3c5b6d8cfa5e2c3bda3f3e8b.jpg'
    ];
    const slideEl = document.getElementById('slideImage');
    let slideIdx = 0;
    setInterval(()=>{
      slideIdx = (slideIdx + 1) % slideImages.length; // stays 0 with single image
      if(slideEl){
        slideEl.style.opacity=0;
        setTimeout(()=>{
          slideEl.src = slideImages[slideIdx];
          slideEl.style.opacity=1;
        },250);
      }
    }, 3500);

    // ===== LIGHTBOX =====
    const lb = document.createElement('div');
    lb.className = 'lightbox';
    lb.innerHTML = `
      <button class="close glass p-2 rounded-xl" aria-label="Close lightbox">‚úï</button>
      <div id="lbContent"></div>
    `;
    document.body.appendChild(lb);

    const lbContent = lb.querySelector('#lbContent');
    const lbClose = ()=>{ lb.classList.remove('open'); lbContent.innerHTML=''; };
    lb.querySelector('.close').addEventListener('click', lbClose);
    lb.addEventListener('click', (e)=>{ if(e.target===lb) lbClose(); });

    document.querySelectorAll('[data-lightbox="img"]').forEach(img=>{
      img.addEventListener('click', ()=>{
        lbContent.innerHTML = `<img src='${img.src}' alt='${img.alt}'>`;
        lb.classList.add('open');
      });
    });

    // ===== PROFILES (LocalStorage + Import/Export) =====
    const cards = document.getElementById('profileCards');

    function loadProfiles(){
      try { return JSON.parse(localStorage.getItem('jdss_profiles')||'[]'); }
      catch { return []; }
    }
    function saveProfiles(list){ localStorage.setItem('jdss_profiles', JSON.stringify(list)); }

    function fileToDataURL(file){
      return new Promise((res,rej)=>{
        if(!file) return res(null);
        const r=new FileReader();
        r.onload=()=>res(r.result);
        r.onerror=rej;
        r.readAsDataURL(file);
      });
    }

    function cardHTML(p, i){
      const avatar = p.photo
        ? `<img src='${p.photo}' alt='${p.name||"Member photo"}' class='w-full h-56 object-cover rounded-2xl'/>`
        : `<div class='w-full h-56 rounded-2xl glass flex items-center justify-center text-5xl' aria-hidden='true'>üë§</div>`;
      return `
        <article class='neu p-5 rounded-3xl'>
          ${avatar}
          <h4 class='mt-4 text-xl font-bold'>${p.name||'Unnamed'}</h4>
          <p class='opacity-90'>${p.role||''}</p>
          <p class='mt-2 text-sm leading-relaxed'>${p.bio||''}</p>
          <div class='mt-4 flex gap-2'>
            <button data-i='${i}' class='edit rounded-xl px-3 py-2 glass'>Edit</button>
            <button data-i='${i}' class='remove rounded-xl px-3 py-2 glass'>Remove</button>
          </div>
        </article>
      `;
    }

    function renderCards(list){
      cards.innerHTML='';
      list.forEach((p,i)=>{ cards.insertAdjacentHTML('beforeend', cardHTML(p,i)); });
    }

    renderCards(loadProfiles());

    document.querySelector('.save1').addEventListener('click', async ()=>{
      const f = document.getElementById('profileForm');
      const name=f.name1.value.trim();
      if(!name) return alert('Please enter name for Profile 1');
      const role=f.role1.value.trim();
      const bio=f.bio1.value.trim();
      const photo=await fileToDataURL(f.photo1.files[0]);
      const list=loadProfiles();
      list[0] = {name,role,bio,photo};
      saveProfiles(list);
      renderCards(list);
      alert('Profile 1 saved');
    });

    document.querySelector('.save2').addEventListener('click', async ()=>{
      const f = document.getElementById('profileForm');
      const name=f.name2.value.trim();
      if(!name) return alert('Please enter name for Profile 2');
      const role=f.role2.value.trim();
      const bio=f.bio2.value.trim();
      const photo=await fileToDataURL(f.photo2.files[0]);
      const list=loadProfiles();
      list[1] = {name,role,bio,photo};
      saveProfiles(list);
      renderCards(list);
      alert('Profile 2 saved');
    });

    cards.addEventListener('click', (e)=>{
      const btn=e.target.closest('button');
      if(!btn) return;
      const idx=+btn.dataset.i;
      const list=loadProfiles();
      if(Number.isNaN(idx)) return;

      if(btn.classList.contains('remove')){
        list.splice(idx,1);
        saveProfiles(list);
        renderCards(list);
        return;
      }
      if(btn.classList.contains('edit')){
        const p=list[idx]||{};
        const f=document.getElementById('profileForm');
        if(idx===0){ f.name1.value=p.name||''; f.role1.value=p.role||''; f.bio1.value=p.bio||''; }
        if(idx===1){ f.name2.value=p.name||''; f.role2.value=p.role||''; f.bio2.value=p.bio||''; }
        window.scrollTo({ top: document.getElementById('profiles').offsetTop-80, behavior:'smooth' });
      }
    });

    document.getElementById('exportProfiles').addEventListener('click', ()=>{
      const data = new Blob([JSON.stringify(loadProfiles(), null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(data);
      const a=document.createElement('a');
      a.href=url; a.download='jdss-profiles.json'; a.click();
      URL.revokeObjectURL(url);
    });

    document.getElementById('importProfiles').addEventListener('change', async (e)=>{
      const file=e.target.files[0];
      if(!file) return;
      const txt=await file.text();
      try{
        const arr=JSON.parse(txt);
        if(!Array.isArray(arr)) throw new Error('Invalid');
        saveProfiles(arr);
        renderCards(arr);
        alert('Profiles imported');
      }catch{
        alert('Invalid JSON');
      }    });


    document.getElementById('resetProfiles').addEventListener('click', ()=>{
      if(confirm('Clear saved profiles from this browser?')){
        localStorage.removeItem('jdss_profiles');
        renderCards([]);
      }
    });
  </script>
</body>
</html>
